<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Immunforsvarets Borg</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
</head>
<body>

    <header class="w-full bg-slate-800 text-white py-8 shadow-lg text-center">
        <h1 class="text-4xl font-bold italic">üè∞ Immunforsvarets Borg</h1>
        <p class="mt-2 text-slate-300">Et pedagogisk minispill om kroppens forsvar</p>
        <button id="actionButton" class="mt-5 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-full transition-all transform hover:scale-105 shadow-xl">
            START ANGREP!
        </button>
    </header>

    <div class="container">
        <div id="game-area">
            <svg id="fortress-svg" viewBox="0 0 800 500" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
    
    <defs>
        <linearGradient id="skyGradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#4fc3f7;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#e0f7fa;stop-opacity:1" />
        </linearGradient>
        <linearGradient id="grassGradient" x1="0%" y1="0%" x2="0%" y2="100%">
            <stop offset="0%" style="stop-color:#4CAF50;stop-opacity:1" />
            <stop offset="100%" style="stop-color:#388E3C;stop-opacity:1" />
        </linearGradient>
        <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
            <feGaussianBlur in="SourceAlpha" stdDeviation="2"/>
            <feOffset dx="2" dy="2" result="offsetblur"/>
            <feComponentTransfer>
                <feFuncA type="linear" slope="0.3"/>
            </feComponentTransfer>
            <feMerge> 
                <feMergeNode/>
                <feMergeNode in="SourceGraphic"/> 
            </feMerge>
        </filter>
    </defs>

    <rect width="800" height="500" fill="url(#skyGradient)"/>
    <rect x="0" y="350" width="800" height="150" fill="url(#grassGradient)"/>
    
    <g transform="translate(700, 70)">
        <circle r="40" fill="#FFD700" stroke="#FFA000" stroke-width="2"/>
        <line x1="0" y1="-50" x2="0" y2="-60" stroke="#FFD700" stroke-width="4"/>
        <line x1="35" y1="-35" x2="45" y2="-45" stroke="#FFD700" stroke-width="4"/>
        <line x1="50" y1="0" x2="60" y2="0" stroke="#FFD700" stroke-width="4"/>
        <line x1="35" y1="35" x2="45" y2="45" stroke="#FFD700" stroke-width="4"/>
        <line x1="0" y1="50" x2="0" y2="60" stroke="#FFD700" stroke-width="4"/>
        <line x1="-35" y1="35" x2="-45" y2="45" stroke="#FFD700" stroke-width="4"/>
        <line x1="-50" y1="0" x2="-60" y2="0" stroke="#FFD700" stroke-width="4"/>
        <line x1="-35" y1="-35" x2="-45" y2="-45" stroke="#FFD700" stroke-width="4"/>
        <path d="M-20 -5 Q -10 -15 0 -5 Q 10 -15 20 -5 L 20 5 Q 10 15 0 5 Q -10 15 -20 5 Z" fill="black"/>
        <path d="M-10 15 Q 0 25 10 15" fill="none" stroke="#E65100" stroke-width="2"/>
    </g>

    <g id="moat">
        <path d="M50 350 L750 350 L 730 420 Q 400 440 70 420 Z" fill="#0288D1" stroke="#01579B" stroke-width="2" opacity="0.8"/>
        <path d="M70 370 Q 150 390 230 370 T 390 370 T 550 370 T 710 370" fill="none" stroke="#81D4FA" stroke-width="3" opacity="0.6"/>
        <path d="M90 390 Q 170 410 250 390 T 410 390 T 570 390" fill="none" stroke="#81D4FA" stroke-width="2" opacity="0.4"/>
        <text x="400" y="450" font-size="16" fill="#01579B" text-anchor="middle" font-weight="bold">Vollgraven (Slimhinner)</text>
    </g>

    <g id="wall" transform="translate(150, 100)" filter="url(#shadow)">
        <rect x="50" y="80" width="400" height="170" fill="#9E9E9E" stroke="#424242" stroke-width="2"/>
        
        <rect x="0" y="20" width="70" height="230" fill="#757575" stroke="#424242" stroke-width="2"/>
        <path d="M-5 20 L-5 0 L15 0 L15 10 L25 10 L25 0 L45 0 L45 10 L55 10 L55 0 L75 0 L75 20 Z" fill="#616161" stroke="#424242"/>
        <rect x="20" y="50" width="30" height="40" rx="15" ry="15" fill="#212121"/> <line x1="35" y1="0" x2="35" y2="-40" stroke="#424242" stroke-width="2"/>
        <path d="M35 -40 L 80 -30 L 35 -20 Z" fill="#E53935"/>

        <rect x="430" y="20" width="70" height="230" fill="#757575" stroke="#424242" stroke-width="2"/>
        <path d="M425 20 L425 0 L445 0 L445 10 L455 10 L455 0 L475 0 L475 10 L485 10 L485 0 L505 0 L505 20 Z" fill="#616161" stroke="#424242"/>
        <rect x="450" y="50" width="30" height="40" rx="15" ry="15" fill="#212121"/> <line x1="465" y1="0" x2="465" y2="-40" stroke="#424242" stroke-width="2"/>
        <path d="M465 -40 L 510 -30 L 465 -20 Z" fill="#E53935"/>

        <path d="M200 250 L200 150 Q 250 120 300 150 L 300 250 Z" fill="#3E2723"/>
        <rect x="195" y="150" width="110" height="100" fill="none" stroke="#5D4037" stroke-width="5"/>
        <line x1="220" y1="150" x2="220" y2="230" stroke="#212121" stroke-width="3"/>
        <line x1="240" y1="140" x2="240" y2="230" stroke="#212121" stroke-width="3"/>
        <line x1="260" y1="140" x2="260" y2="230" stroke="#212121" stroke-width="3"/>
        <line x1="280" y1="150" x2="280" y2="230" stroke="#212121" stroke-width="3"/>
        
        <text x="250" y="280" font-size="20" fill="#212121" text-anchor="middle" font-weight="bold">Borgmuren</text>
    </g>

    <g id="b-cell" transform="translate(200, 180)" filter="url(#shadow)">
        <rect x="0" y="30" width="90" height="60" fill="#8D6E63" stroke="#3E2723"/>
        <path d="M-5 30 L 45 0 L 95 30 Z" fill="#5D4037" stroke="#3E2723"/> <rect x="60" y="10" width="15" height="25" fill="#4E342E"/> <circle cx="70" cy="5" r="5" fill="#9E9E9E" opacity="0.6"/>
        <circle cx="75" cy="-5" r="7" fill="#9E9E9E" opacity="0.4"/>
        <circle cx="80" cy="-15" r="9" fill="#9E9E9E" opacity="0.2"/>
        <path d="M30 90 L30 60 Q 45 50 60 60 L 60 90 Z" fill="#212121"/>
        <circle cx="45" cy="70" r="5" fill="#FF5722"/> <path d="M-10 90 L 20 90 L 15 80 L -5 80 Z" fill="#212121"/>
        <path d="M-5 80 L 15 80 L 15 75 L 20 75 L 20 70 L -10 70 L -10 75 Z" fill="#424242"/>
        <line x1="-5" y1="65" x2="10" y2="60" stroke="#795548" stroke-width="3"/>
        <rect x="8" y="55" width="10" height="15" fill="#607D8B" transform="rotate(20 13 62)"/>
        
        <text x="45" y="110" font-size="14" fill="white" text-anchor="middle" font-weight="bold" style="text-shadow: 1px 1px 2px black;">Smia</text>
    </g>

    <g id="macrophage" transform="translate(280, 240)" filter="url(#shadow)">
        <path d="M0 0 Q -30 10 -20 50 Q -10 70 20 70 Q 50 70 60 50 Q 70 10 40 0 Q 20 -10 0 0" fill="#43A047" stroke="#1B5E20" stroke-width="2"/>
        <ellipse cx="20" cy="40" rx="15" ry="10" fill="#66BB6A"/>
        <circle cx="10" cy="15" r="3" fill="black"/> <circle cx="30" cy="15" r="3" fill="black"/> <path d="M5 10 L 15 15" stroke="#1B5E20" stroke-width="2"/> <path d="M25 15 L 35 10" stroke="#1B5E20" stroke-width="2"/>
        <path d="M10 30 Q 20 35 30 30" fill="none" stroke="black" stroke-width="2"/>
        <path d="M12 30 L 15 25 L 18 30" fill="white"/> <path d="M22 30 L 25 25 L 28 30" fill="white"/> <path d="M-15 30 Q -25 40 -15 50" fill="none" stroke="#43A047" stroke-width="8" stroke-linecap="round"/>
        <path d="M-20 20 L -40 10 Q -50 0 -30 -10 Q -20 0 -10 10 L -20 20 Z" fill="#8D6E63" stroke="#3E2723"/> <line x1="-20" y1="20" x2="-15" y2="40" stroke="#8D6E63" stroke-width="4"/> <path d="M-40 5 L -45 0 L -35 0 Z" fill="#BDBDBD"/>
        <path d="M-30 -10 L -30 -15 L -25 -10 Z" fill="#BDBDBD"/>

        <text x="20" y="90" font-size="14" fill="white" text-anchor="middle" font-weight="bold" style="text-shadow: 1px 1px 2px black;">Vakt-Troll</text>
    </g>

    <g id="t-helper" transform="translate(595, 80)" filter="url(#shadow)">
        <path d="M10 25 Q -5 40 5 65 L 35 65 Q 45 40 30 25" fill="#C2185B"/>
        <rect x="10" y="25" width="20" height="30" fill="#90A4AE" stroke="#546E7A"/>
        <line x1="10" y1="40" x2="30" y2="40" stroke="#546E7A"/>
        <circle cx="20" cy="15" r="10" fill="#FFCCBC"/>
        <path d="M10 15 L 10 10 Q 20 0 30 10 L 30 15 Z" fill="#607D8B"/>
        <path d="M15 5 L 10 -5 L 20 0 L 30 -5 L 25 5" fill="#D32F2F"/> <line x1="30" y1="30" x2="45" y2="20" stroke="#FFD700" stroke-width="3"/>
        <circle cx="45" cy="20" r="3" fill="#FFD700"/>

        <text x="20" y="85" font-size="14" fill="white" text-anchor="middle" font-weight="bold" style="text-shadow: 1px 1px 2px black;">General</text>
    </g>

    <g id="dendritic" transform="translate(500, 260)" filter="url(#shadow)">
        <path d="M-10 30 L 30 30 L 35 20 L 45 15 L 35 10 L 25 15 L -10 15 Z" fill="#795548" stroke="#3E2723"/> <rect x="-10" y="30" width="5" height="15" fill="#5D4037"/> <rect x="25" y="30" width="5" height="15" fill="#5D4037"/> <path d="M-10 15 Q -15 25 -20 20" fill="none" stroke="#3E2723" stroke-width="3"/> <path d="M10 15 L 15 0 L 20 15" fill="#FFB300"/> <circle cx="17" cy="0" r="6" fill="#FFE082"/> <path d="M10 0 L 17 -8 L 24 0" fill="#6D4C41"/> <line x1="20" y1="2" x2="35" y2="5" stroke="black" stroke-width="2"/>
        
        <text x="15" y="60" font-size="14" fill="white" text-anchor="middle" font-weight="bold" style="text-shadow: 1px 1px 2px black;">Speider</text>
    </g>

</svg>
        </div>

        <div class="w-full max-w-lg bg-white p-6 rounded-xl shadow-inner border-2 border-slate-200">
            <h2 class="text-xl font-bold mb-4 flex items-center">
                <span class="mr-2 text-blue-600">üìú</span> Hendelseslogg
            </h2>
            <div id="log-container" class="space-y-3 max-h-64 overflow-y-auto">
                <p class="log-entry">Borgen er rolig. Trykk "START ANGREP!" for √• starte simuleringen.</p>
            </div>
        </div>
    </div>
   
    <div id="info-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex justify-center items-center z-50 transition-opacity duration-300">
        <div class="bg-white rounded-xl p-8 max-w-md w-full shadow-2xl transform scale-100 transition-transform duration-300 border-t-4 border-blue-500">
            <div class="flex justify-between items-start mb-4">
                <div>
                    <h2 id="modal-title" class="text-2xl font-bold text-slate-800">Tittel</h2>
                    <h3 id="modal-subtitle" class="text-md font-semibold text-blue-600 italic">Undertittel</h3>
                </div>
                <button onclick="closeModal()" class="text-gray-400 hover:text-red-500 text-2xl font-bold">&times;</button>
            </div>
            
            <p id="modal-desc" class="text-slate-600 leading-relaxed mb-6">Beskrivelse kommer her...</p>
            
            <button onclick="closeModal()" class="w-full bg-slate-100 hover:bg-slate-200 text-slate-700 font-semibold py-2 px-4 rounded-lg transition-colors">
                Lukk vindu
            </button>
        </div>
    </div>

</body>
</html>
