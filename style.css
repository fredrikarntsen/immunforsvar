body { font-family: 'Arial', sans-serif; background-color: #f0f4f8; display: flex; flex-direction: column; align-items: center; min-height: 100vh; margin: 0; }
.container { background-color: white; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); padding: 25px; margin-top: 20px; width: 90%; max-width: 1000px; display: flex; flex-direction: column; align-items: center; }
#game-area { position: relative; width: 100%; max-width: 800px; height: 500px; margin-bottom: 20px; border: 2px solid #ddd; border-radius: 10px; overflow: hidden; background-color: #e0f2f7; }
#fortress-svg { width: 100%; height: 100%; background-color: #87CEEB; }

.log-entry { background-color: #e3f2fd; border-left: 4px solid #2196f3; padding: 8px 12px; margin-bottom: 8px; border-radius: 4px; font-size: 0.9em; animation: fadeIn 0.5s; }

@keyframes fadeIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }

.bacterium {
    position: absolute;
    width: 20px;
    height: 20px;
    background-color: #8b0000;
    border-radius: 50%;
    box-shadow: inset -2px -2px 4px rgba(0,0,0,0.4);
    opacity: 0;
    transition: transform linear, opacity linear;
    z-index: 10;
}
.bacterium::after {
        content: ''; position: absolute; top: -2px; left: -2px; right: -2px; bottom: -2px;
        border: 2px dotted #ff5252; border-radius: 50%; animation: spin 4s linear infinite;
}
@keyframes spin { 100% { transform: rotate(360deg); } }

/* Interactive elements transitions */
#wall path, #moat path, #macrophage path, #dendritic path, #t-helper path, #b-cell path,
#macrophage circle, #t-helper rect, #b-cell rect {
    transition: fill 0.5s ease-in-out, stroke 0.5s ease-in-out, filter 0.5s ease-in-out;
}

.highlighted path, .highlighted circle, .highlighted rect {
    filter: drop-shadow(0 0 10px gold);
    stroke: #FFD700 !important;
    stroke-width: 3px !important;
}


/* Prosjektilet (Antistoffet/Pilen) */
.projectile {
    position: absolute;
    font-size: 28px; /* Litt større */
    font-weight: bold;
    color: #9C27B0;
    z-index: 20;
    pointer-events: none;
    /* Start-tilstand */
    transform: scale(0); 
    /* Vi øker tiden til 2 sekunder (2s) for en tydeligere reise */
    transition: transform 0.5s ease-out, left 2s linear, top 2s linear;
}

/* NYTT: Siktelinjen som viser banen */
.trace-line {
    position: absolute;
    height: 2px;
    background-color: #9C27B0; /* Samme farge som pilen */
    opacity: 0.4;
    transform-origin: 0 50%; /* Roterer ut fra venstre kant */
    z-index: 15;
    pointer-events: none;
    box-shadow: 0 0 4px #E1BEE7;
}

/* Animasjon for bakterie som dør */
.dying {
    /* Roterer og krymper til null */
    transform: scale(0) rotate(360deg) !important; 
    opacity: 0 !important;
    transition: all 0.5s ease-out !important;
}

/* En liten seiers-puls på borgen til slutt */
.victory-pulse {
    animation: victory 1s infinite;
}

@keyframes victory {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}
